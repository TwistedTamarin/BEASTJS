!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(exports):"function"==typeof define&&define.amd?define(["exports"],s):s(t.BEAST={})}(this,function(t){"use strict";function s(t,s){for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e]);function i(){this.constructor=t}t.prototype=null===s?Object.create(s):(i.prototype=s.prototype,new i)}var e=function(){function t(t,s){this.state="beast-rest",this.data=s,this.element=t,this.element.classList.add("beast-anim"),this.element.classList.add(this.state),this.states={},this.states.in=this.data[1]?this.data[1]:"",this.states.out=this.data[2]?this.data[2]:"",this.offsets={},this.offsets.top=this.data[3]?Number(this.data[3]):0,this.offsets.bottom=this.data[4]?Number(this.data[4]):0}return t.prototype.update=function(t,s){var e=this.state;"load"===t&&(this.state=this.states.in),e!==this.state&&(this.element.classList.remove(e),this.element.classList.add(this.state))},t}(),i=function(t){function e(s,e){var i=t.call(this,s,e)||this;return i.position={},i.position.top=i.element.offsetTop+i.offsets.top,i.position.bottom=i.element.offsetTop+i.element.offsetHeight+i.offsets.bottom,i}return s(e,t),e.prototype.update=function(t,s){"scroll"===t&&this.updateScroll(s.x,s.y)},e.prototype.updateScroll=function(t,s){var e=this.state;s=s||window.pageYOffset,t=t||window.pageXOffset,s>=this.position.top&&(this.state=this.states.in),s>=this.position.bottom&&(this.state=this.states.out),e!==this.state&&(this.element.classList.remove(e),this.element.classList.add(this.state))},e}(e),o=function(t){function e(s,e){var i=t.call(this,s,e)||this;return i.position=Number(i.data[3]),i.initialState=i.state,i}return s(e,t),e.prototype.update=function(t,s){"scroll"===t&&this.updateScroll(s.x,s.y)},e.prototype.updateScroll=function(t,s){var e=this.state;s=s||window.pageYOffset,t=t||window.pageXOffset,s>=this.position&&(this.state=this.states.in),s<=this.position&&this.initialState!==this.state&&(this.state=this.states.out),e!==this.state&&(this.element.classList.remove(e),this.element.classList.add(this.state))},e}(e),a=function(t){function e(s,e){var i=t.call(this,s,e)||this;return i.position={},i}return s(e,t),e.prototype.update=function(t,s){"scroll"===t&&this.updateScroll(s.x,s.y)},e.prototype.updateScroll=function(t,s){var e=this.state;s=s||window.pageYOffset,t=t||window.pageXOffset,s>=this.position.top&&(this.state=this.states.in),s>=this.position.bottom&&(this.state=this.states.out),e!==this.state&&(this.element.classList.remove(e),this.element.classList.add(this.state))},e}(e),n=function(){function t(){this.elements=[],this.triggers={scroll:[],load:[]},this.process(),"complete"===document.readyState||"loading"!==document.readyState?this.ELoaded():document.addEventListener("DOMContentLoaded",this.ELoaded.bind(this)),window.addEventListener("scroll",this.EScroll.bind(this))}return t.prototype.process=function(){for(var t=document.querySelectorAll("[beast]"),s=0,n=t.length;s<n;s++){var r=t[s].getAttribute("beast").split("|");r[0]&&"Scroll"===r[0]&&this.triggers.scroll.push(new i(t[s],r)),r[0]&&"ScrollFixed"===r[0]&&this.triggers.scroll.push(new o(t[s],r)),r[0]&&"ScrollTo"===r[0]&&this.triggers.scroll.push(new a(t[s],r)),r[0]&&"Load"===r[0]&&this.triggers.load.push(new e(t[s],r)),this.elements.push(t[s])}},t.prototype.EScroll=function(t){for(var s=0,e=this.triggers.scroll.length;s<e;s++)this.triggers.scroll[s].update("scroll",{x:t.pageX,y:t.pageY})},t.prototype.ELoaded=function(){for(var t=0,s=this.triggers.load.length;t<s;t++)this.triggers.load[t].update("load")},t}();new n,t.Trigger=e,t.Scroll=i,t.ScrollFixed=o,t.ScrollTo=a,t.AnimationManager=n,Object.defineProperty(t,"__esModule",{value:!0})});
